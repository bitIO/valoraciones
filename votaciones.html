<head>
  <title>Leaderboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  <div class="header">
    <div class="container">
      <h2>Votaciones para charlas de Codemotion</h2>
      {{> navbar}}
      {{> loginButtons}}
      
    </div>
  </div>
  <div class="container-fluid">
    {{> leaderboard}}
  </div>
</body>

<template name="navbar">
  
  <button id="sortAffinity">Related Talks</button>
  <button id="sortByRank">Ranking</button>
  {{# if isAdmin }}
    <section class="admin">
      {{#if notImportedYet}}
        <input type="file" id="csv-file" name="files"/>
        <button type="submit" id="import" class="btn-small">Import Talks</button>
      {{/if}}
    </section>
  {{/if}}
    
</template>

<template name="leaderboard">
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th>Title</th>
        <th>Desc</th>
        <th>Technologies Area</th>
        <th>Tags</th>
        <th>Language</th>
        <th>Level</th>
        <th style="width: 60px">Score</th>
        <th style="width: 20px"></th>
        {{#if isAdmin}}
          <th>Not Related</th>
        {{/if}}
        
      </tr>
    </thead>
    <tbody>
      
      {{#each talks}}
      {{> talk}}
      {{/each}}
    </tbody>
  </table>
</template>

<template name="talk">
  <tr class="speaker {{#if selected}}info{{/if}}">
    <td class="name">{{Title}}</td>
    <td class="name"><p class="justify">{{Description}}</p></td>
    <td class="name">{{ showFormatted techs }}</td>
    <td class="name">{{ showFormatted tags}}</td>
    <td class="name">{{Language}}</td>
    <td class="name">{{Level}}</td>
    <td class="score"><span class="badge {{#if is_max}}badge-success{{/if}} {{#if is_min}}badge-warning{{/if}}">{{Votes}}</span></td>
    <td><i class="increment icon-thumbs-up" rel="tooltip" data-original-title="Add five points to the score"></i></td>
    {{#if isAdmin}}
    <td><i class="notRelated icon-remove-sign" rel="tooltip" data-original-title="Not related with this community"></i></td>
    {{/if}}
    
    
  </tr>
</template>

